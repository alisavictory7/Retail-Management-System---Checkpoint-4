<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="4188.75px" preserveAspectRatio="none" style="width:1531px;height:4188px;background:#FFFFFF;" version="1.1" viewBox="0 0 1531 4188" width="1531.25px" zoomAndPan="magnify"><defs/><g><g><title>Flask App</title><rect fill="#FFFFFF" height="228.9941" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="541.2787" y="1648.584"/></g><g><title>Flask App</title><rect fill="#FFFFFF" height="165.9961" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="541.2787" y="2026.0742"/></g><g><title>Flask App</title><rect fill="#FFFFFF" height="328.0762" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="541.2787" y="2601.1426"/></g><g><title>Returns Service</title><rect fill="#FFFFFF" height="484.2383" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="782.5366" y="344.1992"/></g><g><title>Returns Service</title><rect fill="#FFFFFF" height="330.9082" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="782.5366" y="3261.2109"/></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="451.9043" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="1050.4285" y="828.4375"/></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="372.8223" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="1050.4285" y="3592.1191"/></g><g><title>Customer</title><rect fill="#000000" fill-opacity="0.00000" height="3985.2344" width="10" x="53.7524" y="102.8711"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:6.25,6.25;" x1="58.75" x2="58.75" y1="102.8711" y2="4088.1055"/></g><g><title>Browser</title><rect fill="#000000" fill-opacity="0.00000" height="3985.2344" width="10" x="286.9806" y="102.8711"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:6.25,6.25;" x1="291.5167" x2="291.5167" y1="102.8711" y2="4088.1055"/></g><g><title>Flask App</title><rect fill="#000000" fill-opacity="0.00000" height="3985.2344" width="10" x="542.5287" y="102.8711"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:6.25,6.25;" x1="547.2949" x2="547.2949" y1="102.8711" y2="4088.1055"/></g><g><title>Returns Service</title><rect fill="#000000" fill-opacity="0.00000" height="3985.2344" width="10" x="783.7866" y="102.8711"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:6.25,6.25;" x1="788.0646" x2="788.0646" y1="102.8711" y2="4088.1055"/></g><g><title>Notification Service</title><rect fill="#000000" fill-opacity="0.00000" height="3985.2344" width="10" x="1051.6785" y="102.8711"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:6.25,6.25;" x1="1055.6903" x2="1055.6903" y1="102.8711" y2="4088.1055"/></g><g><title>Admin Portal</title><rect fill="#000000" fill-opacity="0.00000" height="3985.2344" width="10" x="1322.6624" y="102.8711"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:6.25,6.25;" x1="1327.4677" x2="1327.4677" y1="102.8711" y2="4088.1055"/></g><g><title>Store Admin</title><rect fill="#000000" fill-opacity="0.00000" height="3985.2344" width="10" x="1454.4977" y="102.8711"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:6.25,6.25;" x1="1459.1071" x2="1459.1071" y1="102.8711" y2="4088.1055"/></g><g class="participant participant-head" data-participant="Customer"><text fill="#000000" font-family="Verdana" font-size="17.5" lengthAdjust="spacing" textLength="85.0049" x="12.5" y="98.7439">Customer</text><ellipse cx="58.7524" cy="17.5" fill="#FFEBEE" rx="10" ry="10" style="stroke:#D32F2F;stroke-width:1.25;"/><path d="M58.7524,27.5 L58.7524,61.25 M42.5024,37.5 L75.0024,37.5 M58.7524,61.25 L42.5024,80 M58.7524,61.25 L75.0024,80" fill="none" style="stroke:#D32F2F;stroke-width:1.25;"/></g><g class="participant participant-tail" data-participant="Customer"><text fill="#000000" font-family="Verdana" font-size="17.5" lengthAdjust="spacing" textLength="85.0049" x="12.5" y="4103.0994">Customer</text><ellipse cx="58.7524" cy="4118.4766" fill="#FFEBEE" rx="10" ry="10" style="stroke:#D32F2F;stroke-width:1.25;"/><path d="M58.7524,4128.4766 L58.7524,4162.2266 M42.5024,4138.4766 L75.0024,4138.4766 M58.7524,4162.2266 L42.5024,4180.9766 M58.7524,4162.2266 L75.0024,4180.9766" fill="none" style="stroke:#D32F2F;stroke-width:1.25;"/></g><g class="participant participant-head" data-participant="Browser"><rect fill="#E3F2FD" height="32.0508" rx="9.375" ry="9.375" style="stroke:#1976D2;stroke-width:1.25;" width="68.4277" x="257.7667" y="69.5703"/><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50.9277" x="266.5167" y="89.9231">Browser</text></g><g class="participant participant-tail" data-participant="Browser"><rect fill="#E3F2FD" height="32.0508" rx="9.375" ry="9.375" style="stroke:#1976D2;stroke-width:1.25;" width="68.4277" x="257.7667" y="4086.8555"/><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50.9277" x="266.5167" y="4107.2083">Browser</text></g><g class="participant participant-head" data-participant="Flask"><rect fill="#E3F2FD" height="32.0508" rx="9.375" ry="9.375" style="stroke:#1976D2;stroke-width:1.25;" width="77.9675" x="508.5449" y="69.5703"/><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="60.4675" x="517.2949" y="89.9231">Flask App</text></g><g class="participant participant-tail" data-participant="Flask"><rect fill="#E3F2FD" height="32.0508" rx="9.375" ry="9.375" style="stroke:#1976D2;stroke-width:1.25;" width="77.9675" x="508.5449" y="4086.8555"/><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="60.4675" x="517.2949" y="4107.2083">Flask App</text></g><g class="participant participant-head" data-participant="ReturnsService"><rect fill="#E3F2FD" height="32.0508" rx="9.375" ry="9.375" style="stroke:#1976D2;stroke-width:1.25;" width="116.4441" x="730.5646" y="69.5703"/><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="98.9441" x="739.3146" y="89.9231">Returns Service</text></g><g class="participant participant-tail" data-participant="ReturnsService"><rect fill="#E3F2FD" height="32.0508" rx="9.375" ry="9.375" style="stroke:#1976D2;stroke-width:1.25;" width="116.4441" x="730.5646" y="4086.8555"/><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="98.9441" x="739.3146" y="4107.2083">Returns Service</text></g><g class="participant participant-head" data-participant="NotificationService"><rect fill="#E3F2FD" height="46.6016" rx="9.375" ry="9.375" style="stroke:#1976D2;stroke-width:1.25;" width="149.4763" x="981.9403" y="55.0195"/><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="121.8933" x="995.7318" y="75.3723">Notification Service</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="131.9763" x="990.6903" y="89.9231">(Pub-Sub Subscriber)</text></g><g class="participant participant-tail" data-participant="NotificationService"><rect fill="#E3F2FD" height="46.6016" rx="9.375" ry="9.375" style="stroke:#1976D2;stroke-width:1.25;" width="149.4763" x="981.9403" y="4086.8555"/><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="121.8933" x="995.7318" y="4107.2083">Notification Service</text><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="131.9763" x="990.6903" y="4121.759">(Pub-Sub Subscriber)</text></g><g class="participant participant-head" data-participant="AdminPortal"><rect fill="#E3F2FD" height="32.0508" rx="9.375" ry="9.375" style="stroke:#1976D2;stroke-width:1.25;" width="97.8894" x="1278.7177" y="69.5703"/><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="80.3894" x="1287.4677" y="89.9231">Admin Portal</text></g><g class="participant participant-tail" data-participant="AdminPortal"><rect fill="#E3F2FD" height="32.0508" rx="9.375" ry="9.375" style="stroke:#1976D2;stroke-width:1.25;" width="97.8894" x="1278.7177" y="4086.8555"/><text fill="#000000" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="80.3894" x="1287.4677" y="4107.2083">Admin Portal</text></g><g class="participant participant-head" data-participant="Admin"><text fill="#000000" font-family="Verdana" font-size="17.5" lengthAdjust="spacing" textLength="108.2813" x="1401.6071" y="98.7439">Store Admin</text><ellipse cx="1459.4977" cy="17.5" fill="#FFEBEE" rx="10" ry="10" style="stroke:#D32F2F;stroke-width:1.25;"/><path d="M1459.4977,27.5 L1459.4977,61.25 M1443.2477,37.5 L1475.7477,37.5 M1459.4977,61.25 L1443.2477,80 M1459.4977,61.25 L1475.7477,80" fill="none" style="stroke:#D32F2F;stroke-width:1.25;"/></g><g class="participant participant-tail" data-participant="Admin"><text fill="#000000" font-family="Verdana" font-size="17.5" lengthAdjust="spacing" textLength="108.2813" x="1401.6071" y="4103.0994">Store Admin</text><ellipse cx="1459.4977" cy="4118.4766" fill="#FFEBEE" rx="10" ry="10" style="stroke:#D32F2F;stroke-width:1.25;"/><path d="M1459.4977,4128.4766 L1459.4977,4162.2266 M1443.2477,4138.4766 L1475.7477,4138.4766 M1459.4977,4162.2266 L1443.2477,4180.9766 M1459.4977,4162.2266 L1475.7477,4180.9766" fill="none" style="stroke:#D32F2F;stroke-width:1.25;"/></g><g><title>Flask App</title><rect fill="#FFFFFF" height="228.9941" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="541.2787" y="1648.584"/></g><g><title>Flask App</title><rect fill="#FFFFFF" height="165.9961" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="541.2787" y="2026.0742"/></g><g><title>Flask App</title><rect fill="#FFFFFF" height="328.0762" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="541.2787" y="2601.1426"/></g><g><title>Returns Service</title><rect fill="#FFFFFF" height="484.2383" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="782.5366" y="344.1992"/></g><g><title>Returns Service</title><rect fill="#FFFFFF" height="330.9082" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="782.5366" y="3261.2109"/></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="451.9043" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="1050.4285" y="828.4375"/></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="372.8223" style="stroke:#000000;stroke-width:1.25;" width="12.5" x="1050.4285" y="3592.1191"/></g><rect fill="#FFFFFF" height="3.75" rx="9.375" ry="9.375" style="stroke:#FFFFFF;stroke-width:1.25;" width="1517.3883" x="6.25" y="141.0791"/><line style="stroke:#000000;stroke-width:0.625;" x1="6.25" x2="1523.6383" y1="141.0791" y2="141.0791"/><line style="stroke:#000000;stroke-width:0.625;" x1="6.25" x2="1523.6383" y1="144.8291" y2="144.8291"/><rect fill="#FFFFFF" height="28.916" rx="9.375" ry="9.375" style="stroke:#000000;stroke-width:1.25;" width="544.4586" x="492.7148" y="127.8711"/><text fill="#000000" font-family="Verdana" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="521.3013" x="500.2148" y="147.9547">RMA Authorization (Status Change Triggers Notification)</text><g class="message" data-participant-1="Admin" data-participant-2="AdminPortal"><polygon fill="#000000" points="1341.4124,228.5352,1328.9124,233.5352,1341.4124,238.5352,1336.4124,233.5352" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="1333.9124" x2="1458.2477" y1="233.5352" y2="233.5352"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="58.7079" x="1364.2261" y="189.3707">Review</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="36.4276" x="1375.3662" y="208.2867">RMA</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="62.1277" x="1362.5162" y="227.2028">request</text></g><g class="message" data-participant-1="AdminPortal" data-participant-2="Flask"><polygon fill="#000000" points="561.2787,283.8672,548.7787,288.8672,561.2787,293.8672,556.2787,288.8672" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="553.7787" x2="1326.4124" y1="288.8672" y2="288.8672"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="42.8308" x="916.1801" y="263.6188">POST</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="250.2643" x="812.4634" y="282.5348">/admin/returns/&lt;id&gt;/authorize</text></g><g class="message" data-participant-1="Flask" data-participant-2="ReturnsService"><polygon fill="#000000" points="767.5366,339.1992,780.0366,344.1992,767.5366,349.1992,772.5366,344.1992" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="547.5287" x2="775.0366" y1="344.1992" y2="344.1992"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="201.9745" x="564.0454" y="318.9508">authorize_return(rma_id,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="120.1294" x="604.968" y="337.8668">approve=true)</text></g><g class="message" data-participant-1="ReturnsService" data-participant-2="ReturnsService"><line style="stroke:#000000;stroke-width:1.25;" x1="795.0366" x2="847.5366" y1="418.4473" y2="418.4473"/><line style="stroke:#000000;stroke-width:1.25;" x1="847.5366" x2="847.5366" y1="418.4473" y2="434.6973"/><line style="stroke:#000000;stroke-width:1.25;" x1="796.2866" x2="847.5366" y1="434.6973" y2="434.6973"/><polygon fill="#000000" points="808.7866,429.6973,796.2866,434.6973,808.7866,439.6973,803.7866,434.6973" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="82.829" x="871.5439" y="374.2828">old_status</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="13.6157" x="906.1505" y="393.1989">=</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="218.3435" x="803.7866" y="412.1149">PENDING_AUTHORIZATION</text></g><g class="message" data-participant-1="ReturnsService" data-participant-2="ReturnsService"><line style="stroke:#000000;stroke-width:1.25;" x1="795.0366" x2="847.5366" y1="471.1133" y2="471.1133"/><line style="stroke:#000000;stroke-width:1.25;" x1="847.5366" x2="847.5366" y1="471.1133" y2="487.3633"/><line style="stroke:#000000;stroke-width:1.25;" x1="796.2866" x2="847.5366" y1="487.3633" y2="487.3633"/><polygon fill="#000000" points="808.7866,482.3633,796.2866,487.3633,808.7866,492.3633,803.7866,487.3633" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="222.4774" x="803.7866" y="464.7809">transition_to(AUTHORIZED)</text></g><g class="message" data-participant-1="ReturnsService" data-participant-2="ReturnsService"><line style="stroke:#000000;stroke-width:1.25;" x1="795.0366" x2="847.5366" y1="561.6113" y2="561.6113"/><line style="stroke:#000000;stroke-width:1.25;" x1="847.5366" x2="847.5366" y1="561.6113" y2="577.8613"/><line style="stroke:#000000;stroke-width:1.25;" x1="796.2866" x2="847.5366" y1="577.8613" y2="577.8613"/><polygon fill="#000000" points="808.7866,572.8613,796.2866,577.8613,808.7866,582.8613,803.7866,577.8613" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="73.6169" x="803.7866" y="517.4469">generate</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="36.4276" x="822.3813" y="536.3629">RMA</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="63.421" x="808.8846" y="555.2789">number</text></g><path d="M672.5,603.4863 L672.5,634.7363 A9.375,9.375 0 0 0 681.875,644.1113 L894.375,644.1113 A9.375,9.375 0 0 0 903.75,634.7363 L903.75,606.6113 L891.25,594.1113 L681.875,594.1113 A9.375,9.375 0 0 0 672.5,603.4863" fill="#FFF3CD" style="stroke:#856404;stroke-width:1.25;"/><path d="M891.25,594.1113 L891.25,601.9238 A4.6875,4.6875 0 0 0 895.9375,606.6113 L903.75,606.6113 L891.25,594.1113" fill="#FFF3CD" style="stroke:#856404;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="199.6893" x="680" y="615.4449">Status change detected:</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="206.1639" x="680" y="634.361">PENDING &#8594; AUTHORIZED</text><g class="message" data-participant-1="ReturnsService" data-participant-2="NotificationService"><polygon fill="#000000" points="1035.4285,823.4375,1047.9285,828.4375,1035.4285,833.4375,1040.4285,828.4375" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="788.7866" x2="1042.9285" y1="828.4375" y2="828.4375"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="231.6418" x="803.7866" y="670.777">publish_rma_status_change(</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="914.4421" y="689.693">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="60.5884" x="889.3134" y="708.609">rma_id,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="104.6411" x="867.287" y="727.525">customer_id,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="914.4421" y="746.441">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="87.9944" x="875.6104" y="765.3571">old_status,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="96.8097" x="871.2027" y="784.2731">new_status,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="914.4421" y="803.1891">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="110.354" x="864.4305" y="822.1051">rma_number)</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="NotificationService"><line style="stroke:#000000;stroke-width:1.25;" x1="1062.9285" x2="1115.4285" y1="1129.6777" y2="1129.6777"/><line style="stroke:#000000;stroke-width:1.25;" x1="1115.4285" x2="1115.4285" y1="1129.6777" y2="1145.9277"/><line style="stroke:#000000;stroke-width:1.25;" x1="1064.1785" x2="1115.4285" y1="1145.9277" y2="1145.9277"/><polygon fill="#000000" points="1076.6785,1140.9277,1064.1785,1145.9277,1076.6785,1150.9277,1071.6785,1145.9277" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="157.7869" x="1107.027" y="858.5211">create_notification(</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="1180.755" y="877.4371">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="176.6553" x="1097.5928" y="896.3531">user_id=customer_id,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="1180.755" y="915.2692">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="228.4839" x="1071.6785" y="934.1852">type="rma_status_change",</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="1180.755" y="953.1012">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="89.2877" x="1141.2766" y="972.0172">title="RMA</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="100.7056" x="1135.5676" y="990.9332">Authorized",</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="1180.755" y="1009.8492">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="130.968" x="1120.4364" y="1028.7653">message="Your</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="50.329" x="1160.7559" y="1047.6813">return</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="66.7615" x="1152.5397" y="1066.5973">#{rma}</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="1166.3934" y="1085.5133">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="28.7231" x="1176.7242" y="1085.5133">has</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="40.6091" x="1165.6158" y="1104.4293">been</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="100.7214" x="1135.5597" y="1123.3453">authorized")</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="NotificationService"><line style="stroke:#000000;stroke-width:1.25;" x1="1062.9285" x2="1115.4285" y1="1201.2598" y2="1201.2598"/><line style="stroke:#000000;stroke-width:1.25;" x1="1115.4285" x2="1115.4285" y1="1201.2598" y2="1217.5098"/><line style="stroke:#000000;stroke-width:1.25;" x1="1064.1785" x2="1115.4285" y1="1217.5098" y2="1217.5098"/><polygon fill="#000000" points="1076.6785,1212.5098,1064.1785,1217.5098,1076.6785,1222.5098,1071.6785,1217.5098" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="41.4581" x="1126.423" y="1176.0114">store</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="5.1654" x="1167.8812" y="1176.0114">&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="14.8138" x="1173.0466" y="1176.0114">in</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="170.9265" x="1071.6785" y="1194.9274">notifications[user_id]</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="NotificationService"><line style="stroke:#000000;stroke-width:1.25;" x1="1062.9285" x2="1115.4285" y1="1279.0918" y2="1279.0918"/><line style="stroke:#000000;stroke-width:1.25;" x1="1115.4285" x2="1115.4285" y1="1279.0918" y2="1295.3418"/><line style="stroke:#000000;stroke-width:1.25;" x1="1056.6785" x2="1115.4285" y1="1295.3418" y2="1295.3418"/><polygon fill="#000000" points="1069.1785,1290.3418,1056.6785,1295.3418,1069.1785,1300.3418,1064.1785,1295.3418" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="82.9242" x="1085.9766" y="1253.8434">increment</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="111.5204" x="1071.6785" y="1272.7594">unread_count</text></g><g class="message" data-participant-1="ReturnsService" data-participant-2="Flask"><polygon fill="#000000" points="561.2787,1358.3398,548.7787,1363.3398,561.2787,1368.3398,556.2787,1363.3398" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="553.7787" x2="787.5366" y1="1363.3398" y2="1363.3398"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="68.7292" x="633.793" y="1319.1754">success,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="62.4133" x="636.951" y="1338.0914">"Return</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="94.3817" x="620.9668" y="1357.0074">authorized"</text></g><g class="message" data-participant-1="Flask" data-participant-2="AdminPortal"><polygon fill="#000000" points="1312.6624,1394.7559,1325.1624,1399.7559,1312.6624,1404.7559,1317.6624,1399.7559" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="547.5287" x2="1320.1624" y1="1399.7559" y2="1399.7559"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="31.0162" x="907.7814" y="1393.4235">200</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="5.1654" x="938.7976" y="1393.4235">&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="23.4467" x="943.963" y="1393.4235">OK</text></g><rect fill="#FFFFFF" height="3.75" rx="9.375" ry="9.375" style="stroke:#FFFFFF;stroke-width:1.25;" width="1517.3883" x="6.25" y="1435.4639"/><line style="stroke:#000000;stroke-width:0.625;" x1="6.25" x2="1523.6383" y1="1435.4639" y2="1435.4639"/><line style="stroke:#000000;stroke-width:0.625;" x1="6.25" x2="1523.6383" y1="1439.2139" y2="1439.2139"/><rect fill="#FFFFFF" height="28.916" rx="9.375" ry="9.375" style="stroke:#000000;stroke-width:1.25;" width="283.8" x="623.0441" y="1422.2559"/><text fill="#000000" font-family="Verdana" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="260.6427" x="630.5441" y="1442.3395">Customer Views Notification</text><g class="message" data-participant-1="Customer" data-participant-2="Browser"><polygon fill="#000000" points="276.9806,1522.9199,289.4806,1527.9199,276.9806,1532.9199,281.9806,1527.9199" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="58.7524" x2="284.4806" y1="1527.9199" y2="1527.9199"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="72.887" x="138.923" y="1483.7555">Navigate</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="16.3135" x="149.6902" y="1502.6715">to</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="5.1654" x="166.0037" y="1502.6715">&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="29.8737" x="171.1691" y="1502.6715">any</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="40.5853" x="155.0739" y="1521.5875">page</text></g><g class="message" data-participant-1="Browser" data-participant-2="Flask"><polygon fill="#000000" points="532.5287,1578.252,545.0287,1583.252,532.5287,1588.252,537.5287,1583.252" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="291.9806" x2="540.0287" y1="1583.252" y2="1583.252"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="32.7856" x="403.3618" y="1558.0035">GET</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="46.0602" x="396.7245" y="1576.9196">/page</text></g><g class="message" data-participant-1="Flask" data-participant-2="Flask"><line style="stroke:#000000;stroke-width:1.25;" x1="547.5287" x2="606.2787" y1="1632.334" y2="1632.334"/><line style="stroke:#000000;stroke-width:1.25;" x1="606.2787" x2="606.2787" y1="1632.334" y2="1648.584"/><line style="stroke:#000000;stroke-width:1.25;" x1="555.0287" x2="606.2787" y1="1648.584" y2="1648.584"/><polygon fill="#000000" points="567.5287,1643.584,555.0287,1648.584,567.5287,1653.584,562.5287,1648.584" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="165.3326" x="562.5287" y="1607.0856">@context_processor</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="164.9677" x="562.7112" y="1626.0016">inject_nav_context()</text></g><g class="message" data-participant-1="Flask" data-participant-2="NotificationService"><polygon fill="#000000" points="1041.6785,1686.25,1054.1785,1691.25,1041.6785,1696.25,1046.6785,1691.25" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="553.7787" x2="1049.1785" y1="1691.25" y2="1691.25"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="217.4072" x="696.525" y="1684.9176">get_unread_count(user_id)</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="Flask"><polygon fill="#000000" points="567.5287,1741.582,555.0287,1746.582,567.5287,1751.582,562.5287,1746.582" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="560.0287" x2="1055.4285" y1="1746.582" y2="1746.582"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="111.5204" x="749.4684" y="1721.3336">unread_count</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="13.6157" x="790.6686" y="1740.2496">=</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="5.1654" x="804.2844" y="1740.2496">&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3387" x="809.4498" y="1740.2496">1</text></g><g class="message" data-participant-1="Flask" data-participant-2="Browser"><polygon fill="#000000" points="305.7306,1872.5781,293.2306,1877.5781,305.7306,1882.5781,300.7306,1877.5781" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="298.2306" x2="546.2787" y1="1877.5781" y2="1877.5781"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="58.5809" x="390.4642" y="1776.6656">Render</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="40.5853" x="399.462" y="1795.5817">page</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="34.4757" x="402.5168" y="1814.4977">with</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="91.3824" x="374.0634" y="1833.4137">notification</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="50.9003" x="394.3045" y="1852.3297">badge</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="23.0182" x="408.2455" y="1871.2457">(1)</text></g><g class="message" data-participant-1="Customer" data-participant-2="Browser"><polygon fill="#000000" points="276.9806,1965.7422,289.4806,1970.7422,276.9806,1975.7422,281.9806,1970.7422" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="58.7524" x2="284.4806" y1="1970.7422" y2="1970.7422"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="38.7207" x="156.0062" y="1907.6617">Click</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="91.3824" x="129.6753" y="1926.5778">notification</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="29.342" x="160.6955" y="1945.4938">bell</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="33.6902" x="158.5214" y="1964.4098">icon</text></g><g class="message" data-participant-1="Browser" data-participant-2="Flask"><polygon fill="#000000" points="526.2787,2021.0742,538.7787,2026.0742,526.2787,2031.0742,531.2787,2026.0742" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="291.9806" x2="533.7787" y1="2026.0742" y2="2026.0742"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="32.7856" x="400.2368" y="2000.8258">GET</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="135.5859" x="348.8367" y="2019.7418">/api/notifications</text></g><g class="message" data-participant-1="Flask" data-participant-2="NotificationService"><polygon fill="#000000" points="1041.6785,2076.4063,1054.1785,2081.4063,1041.6785,2086.4063,1046.6785,2081.4063" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="553.7787" x2="1049.1785" y1="2081.4063" y2="2081.4063"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="204.5612" x="702.948" y="2056.1578">get_notifications(user_id,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="76.3782" x="767.0395" y="2075.0739">limit=20)</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="Flask"><polygon fill="#000000" points="567.5287,2112.8223,555.0287,2117.8223,567.5287,2122.8223,562.5287,2117.8223" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="560.0287" x2="1055.4285" y1="2117.8223" y2="2117.8223"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="134.0942" x="738.1815" y="2111.4899">[Notification(...)]</text></g><g class="message" data-participant-1="Flask" data-participant-2="Browser"><polygon fill="#000000" points="305.7306,2187.0703,293.2306,2192.0703,305.7306,2197.0703,300.7306,2192.0703" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="298.2306" x2="546.2787" y1="2192.0703" y2="2192.0703"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="40.0537" x="399.7278" y="2147.9059">JSON</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="115.3528" x="362.0782" y="2166.8219">{notifications,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="121.8591" x="358.8251" y="2185.7379">unread_count}</text></g><g class="message" data-participant-1="Browser" data-participant-2="Customer"><polygon fill="#000000" points="72.5024,2412.6465,60.0024,2417.6465,72.5024,2422.6465,67.5024,2417.6465" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="65.0024" x2="290.7306" y1="2417.6465" y2="2417.6465"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="43.8464" x="153.4433" y="2222.1539">Show</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="91.3824" x="129.6753" y="2241.0699">notification</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="50.5591" x="150.087" y="2259.986">panel:</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="43.902" x="153.4155" y="2278.902">"RMA</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="88.0658" x="131.3336" y="2297.818">Authorized</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="5.8636" x="151.4279" y="2316.734">-</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="5.1654" x="157.2916" y="2316.734">&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="36.8481" x="162.457" y="2316.734">Your</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="50.329" x="150.202" y="2335.65">return</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="15.5042" x="73.7524" y="2354.566">1.</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="182.5586" x="94.422" y="2354.566">RMA-20241205-00001</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="28.7231" x="171.3397" y="2373.4821">has</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="40.6091" x="165.3967" y="2392.3981">been</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="94.3817" x="138.5104" y="2411.3141">authorized"</text></g><rect fill="#FFFFFF" height="3.75" rx="9.375" ry="9.375" style="stroke:#FFFFFF;stroke-width:1.25;" width="1517.3883" x="6.25" y="2453.3545"/><line style="stroke:#000000;stroke-width:0.625;" x1="6.25" x2="1523.6383" y1="2453.3545" y2="2453.3545"/><line style="stroke:#000000;stroke-width:0.625;" x1="6.25" x2="1523.6383" y1="2457.1045" y2="2457.1045"/><rect fill="#FFFFFF" height="28.916" rx="9.375" ry="9.375" style="stroke:#000000;stroke-width:1.25;" width="363.6615" x="583.1134" y="2440.1465"/><text fill="#000000" font-family="Verdana" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="340.5042" x="590.6134" y="2460.2301">Customer Marks Notification as Read</text><g class="message" data-participant-1="Customer" data-participant-2="Browser"><polygon fill="#000000" points="276.9806,2540.8105,289.4806,2545.8105,276.9806,2550.8105,281.9806,2545.8105" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="58.7524" x2="284.4806" y1="2545.8105" y2="2545.8105"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="38.7207" x="156.0062" y="2501.6461">Click</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="91.3824" x="129.6753" y="2520.5621">notification</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="36.7133" x="157.0099" y="2539.4781">item</text></g><g class="message" data-participant-1="Browser" data-participant-2="Flask"><polygon fill="#000000" points="526.2787,2596.1426,538.7787,2601.1426,526.2787,2606.1426,531.2787,2601.1426" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="291.9806" x2="533.7787" y1="2601.1426" y2="2601.1426"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="42.8308" x="395.2142" y="2575.8942">POST</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="225.5481" x="303.8556" y="2594.8102">/api/notifications/&lt;id&gt;/read</text></g><g class="message" data-participant-1="Flask" data-participant-2="NotificationService"><polygon fill="#000000" points="1041.6785,2651.4746,1054.1785,2656.4746,1041.6785,2661.4746,1046.6785,2656.4746" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="553.7787" x2="1049.1785" y1="2656.4746" y2="2656.4746"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="183.4076" x="713.5248" y="2631.2262">mark_as_read(user_id,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="120.6769" x="744.8901" y="2650.1422">notification_id)</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="NotificationService"><line style="stroke:#000000;stroke-width:1.25;" x1="1056.6785" x2="1109.1785" y1="2711.8066" y2="2711.8066"/><line style="stroke:#000000;stroke-width:1.25;" x1="1109.1785" x2="1109.1785" y1="2711.8066" y2="2728.0566"/><line style="stroke:#000000;stroke-width:1.25;" x1="1057.9285" x2="1109.1785" y1="2728.0566" y2="2728.0566"/><polygon fill="#000000" points="1070.4285,2723.0566,1057.9285,2728.0566,1070.4285,2733.0566,1065.4285,2728.0566" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="154.6051" x="1065.4285" y="2686.5582">notification.is_read</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="13.6157" x="1114.8886" y="2705.4742">=</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="5.1654" x="1128.5043" y="2705.4742">&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="36.9037" x="1133.6697" y="2705.4742">True</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="NotificationService"><line style="stroke:#000000;stroke-width:1.25;" x1="1056.6785" x2="1109.1785" y1="2783.3887" y2="2783.3887"/><line style="stroke:#000000;stroke-width:1.25;" x1="1109.1785" x2="1109.1785" y1="2783.3887" y2="2799.6387"/><line style="stroke:#000000;stroke-width:1.25;" x1="1057.9285" x2="1109.1785" y1="2799.6387" y2="2799.6387"/><polygon fill="#000000" points="1070.4285,2794.6387,1057.9285,2799.6387,1070.4285,2804.6387,1065.4285,2799.6387" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="88.4229" x="1076.9772" y="2758.1403">decrement</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="111.5204" x="1065.4285" y="2777.0563">unread_count</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="Flask"><polygon fill="#000000" points="567.5287,2831.0547,555.0287,2836.0547,567.5287,2841.0547,562.5287,2836.0547" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="560.0287" x2="1055.4285" y1="2836.0547" y2="2836.0547"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="114.0833" x="748.187" y="2829.7223">success=True</text></g><g class="message" data-participant-1="Flask" data-participant-2="Browser"><polygon fill="#000000" points="305.7306,2924.2188,293.2306,2929.2188,305.7306,2934.2188,300.7306,2929.2188" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="298.2306" x2="546.2787" y1="2929.2188" y2="2929.2188"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="40.0537" x="399.7278" y="2866.1383">JSON</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="79.068" x="380.2206" y="2885.0543">{success,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="116.9952" x="361.257" y="2903.9703">unread_count:</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="20.6775" x="409.4159" y="2922.8864">0}</text></g><g class="message" data-participant-1="Browser" data-participant-2="Customer"><polygon fill="#000000" points="72.5024,3017.3828,60.0024,3022.3828,72.5024,3027.3828,67.5024,3022.3828" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="65.0024" x2="290.7306" y1="3022.3828" y2="3022.3828"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="51.7334" x="149.4998" y="2959.3024">Badge</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="45.8459" x="152.4435" y="2978.2184">count</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="67.5708" x="141.5811" y="2997.1344">updated</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="16.3135" x="159.4577" y="3016.0504">to</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="5.1654" x="175.7712" y="3016.0504">&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3387" x="180.9366" y="3016.0504">0</text></g><rect fill="#FFFFFF" height="3.75" rx="9.375" ry="9.375" style="stroke:#FFFFFF;stroke-width:1.25;" width="1517.3883" x="6.25" y="3058.0908"/><line style="stroke:#000000;stroke-width:0.625;" x1="6.25" x2="1523.6383" y1="3058.0908" y2="3058.0908"/><line style="stroke:#000000;stroke-width:0.625;" x1="6.25" x2="1523.6383" y1="3061.8408" y2="3061.8408"/><rect fill="#FFFFFF" height="28.916" rx="9.375" ry="9.375" style="stroke:#000000;stroke-width:1.25;" width="475.1343" x="527.377" y="3044.8828"/><text fill="#000000" font-family="Verdana" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="451.9769" x="534.877" y="3064.9664">Additional Status Changes (Inspection Complete)</text><g class="message" data-participant-1="Admin" data-participant-2="AdminPortal"><polygon fill="#000000" points="1341.4124,3145.5469,1328.9124,3150.5469,1341.4124,3155.5469,1336.4124,3150.5469" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="1333.9124" x2="1458.2477" y1="3150.5469" y2="3150.5469"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="57.1606" x="1364.9997" y="3106.3824">Record</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="83.6542" x="1351.7529" y="3125.2985">inspection</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="46.33" x="1370.415" y="3144.2145">result</text></g><g class="message" data-participant-1="AdminPortal" data-participant-2="Flask"><polygon fill="#000000" points="561.2787,3200.8789,548.7787,3205.8789,561.2787,3210.8789,556.2787,3205.8789" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="553.7787" x2="1326.4124" y1="3205.8789" y2="3205.8789"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="42.8308" x="916.1801" y="3180.6305">POST</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="257.326" x="808.9325" y="3199.5465">/admin/returns/&lt;id&gt;/inspection</text></g><g class="message" data-participant-1="Flask" data-participant-2="ReturnsService"><polygon fill="#000000" points="767.5366,3256.2109,780.0366,3261.2109,767.5366,3266.2109,772.5366,3261.2109" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="547.5287" x2="775.0366" y1="3261.2109" y2="3261.2109"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="211.2579" x="559.4037" y="3235.9625">record_inspection(rma_id,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="95.0323" x="617.5165" y="3254.8785">APPROVED)</text></g><g class="message" data-participant-1="ReturnsService" data-participant-2="ReturnsService"><line style="stroke:#000000;stroke-width:1.25;" x1="795.0366" x2="847.5366" y1="3335.459" y2="3335.459"/><line style="stroke:#000000;stroke-width:1.25;" x1="847.5366" x2="847.5366" y1="3335.459" y2="3351.709"/><line style="stroke:#000000;stroke-width:1.25;" x1="796.2866" x2="847.5366" y1="3351.709" y2="3351.709"/><polygon fill="#000000" points="808.7866,3346.709,796.2866,3351.709,808.7866,3356.709,803.7866,3351.709" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="82.829" x="803.7866" y="3291.2946">old_status</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="13.6157" x="838.3932" y="3310.2106">=</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="81.861" x="804.2706" y="3329.1266">RECEIVED</text></g><g class="message" data-participant-1="ReturnsService" data-participant-2="ReturnsService"><line style="stroke:#000000;stroke-width:1.25;" x1="795.0366" x2="847.5366" y1="3388.125" y2="3388.125"/><line style="stroke:#000000;stroke-width:1.25;" x1="847.5366" x2="847.5366" y1="3388.125" y2="3404.375"/><line style="stroke:#000000;stroke-width:1.25;" x1="796.2866" x2="847.5366" y1="3404.375" y2="3404.375"/><polygon fill="#000000" points="808.7866,3399.375,796.2866,3404.375,808.7866,3409.375,803.7866,3404.375" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="203.2281" x="803.7866" y="3381.7926">transition_to(APPROVED)</text></g><g class="message" data-participant-1="ReturnsService" data-participant-2="NotificationService"><polygon fill="#000000" points="1035.4285,3587.1191,1047.9285,3592.1191,1035.4285,3597.1191,1040.4285,3592.1191" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;" x1="788.7866" x2="1042.9285" y1="3592.1191" y2="3592.1191"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="231.6418" x="803.7866" y="3434.4586">publish_rma_status_change(</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="914.4421" y="3453.3746">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="60.5884" x="889.3134" y="3472.2906">rma_id,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="104.6411" x="867.287" y="3491.2067">customer_id,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="914.4421" y="3510.1227">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="87.0264" x="876.0944" y="3529.0387">RECEIVED,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="93.858" x="872.6785" y="3547.9547">APPROVED,</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="914.4421" y="3566.8707">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="110.354" x="864.4305" y="3585.7867">rma_number)</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="NotificationService"><line style="stroke:#000000;stroke-width:1.25;" x1="1062.9285" x2="1115.4285" y1="3893.3594" y2="3893.3594"/><line style="stroke:#000000;stroke-width:1.25;" x1="1115.4285" x2="1115.4285" y1="3893.3594" y2="3909.6094"/><line style="stroke:#000000;stroke-width:1.25;" x1="1064.1785" x2="1115.4285" y1="3909.6094" y2="3909.6094"/><polygon fill="#000000" points="1076.6785,3904.6094,1064.1785,3909.6094,1076.6785,3914.6094,1071.6785,3909.6094" style="stroke:#000000;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="157.7869" x="1107.027" y="3622.2028">create_notification(</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="1180.755" y="3641.1188">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="228.4839" x="1071.6785" y="3660.0348">type="rma_status_change",</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="1180.755" y="3678.9508">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="107.7991" x="1132.0209" y="3697.8668">title="Return</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="90.9381" x="1140.4514" y="3716.7828">Approved",</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="1180.755" y="3735.6989">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="130.968" x="1120.4364" y="3754.6149">message="Your</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="50.329" x="1160.7559" y="3773.5309">return</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="28.7231" x="1171.5588" y="3792.4469">has</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="57.5177" x="1157.1616" y="3811.3629">passed</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="10.3308" x="1180.755" y="3830.2789">&#160;&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="83.6542" x="1144.0933" y="3849.1949">inspection</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="30.5719" x="1161.5613" y="3868.111">and</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="5.1654" x="1192.1332" y="3868.111">&#160;</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="12.981" x="1197.2986" y="3868.111">is</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="90.954" x="1140.4434" y="3887.027">approved")</text></g><g class="message" data-participant-1="NotificationService" data-participant-2="ReturnsService"><polygon fill="#000000" points="802.5366,3959.9414,790.0366,3964.9414,802.5366,3969.9414,797.5366,3964.9414" style="stroke:#000000;stroke-width:1.25;"/><line style="stroke:#000000;stroke-width:1.25;stroke-dasharray:2.5,2.5;" x1="795.0366" x2="1055.4285" y1="3964.9414" y2="3964.9414"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="91.3824" x="877.0413" y="3939.693">notification</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="62.2546" x="891.6052" y="3958.609">created</text></g><path d="M838.75,3990.5664 L838.75,4059.3164 A9.375,9.375 0 0 0 848.125,4068.6914 L1263.125,4068.6914 A9.375,9.375 0 0 0 1272.5,4059.3164 L1272.5,3993.6914 L1260,3981.1914 L848.125,3981.1914 A9.375,9.375 0 0 0 838.75,3990.5664" fill="#FFF3CD" style="stroke:#856404;stroke-width:1.25;"/><path d="M1260,3981.1914 L1260,3989.0039 A4.6875,4.6875 0 0 0 1264.6875,3993.6914 L1272.5,3993.6914 L1260,3981.1914" fill="#FFF3CD" style="stroke:#856404;stroke-width:1.25;"/><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="209.0045" x="846.25" y="4002.525">Pub-Sub Pattern Benefits:</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="407.5592" x="846.25" y="4021.441">- ReturnsService decoupled from notification logic</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="317.2955" x="846.25" y="4040.3571">- Easy to add email/SMS channels later</text><text fill="#000000" font-family="Verdana" font-size="16.25" lengthAdjust="spacing" textLength="350.7635" x="846.25" y="4059.2731">- Single event triggers multiple subscribers</text><!--SRC=[pLZlJkD64F_kfvY6Bud4doJ0jOsQKmCaLre14Q4djSV9Mhn3iiLUkxlhSDpfllO1-eXzaexNThmEpW5LAnM9ADwPdPtvpSnln_dAB312I48cfAVlX4oOOX5e_3r56U0PQitcE0h5N4A0qg1gq1ef5TzVBKHm9qaVUewAYbF9WrX9LD0xT0GH-n3bnhNuY73OTMGy4T3hkolqQKGW4YRD99PcbctfRL0uOi7Tt9vx78UnWgtn_gG_ETcW72kEgb3iVVlrgvE-eyW24wj7zYQJyT5u_4ZDjNIotwSp7HKP6smmDDa_FbdNSkryS_Zge7lWUVO4Q1sdsiGHgXOm3UM3vuG3hIDAXIuqYkzrXKd8z1sCaiIgsAUwmYMQL4aDCrHB4Q1LAzQAfRh-UMp4hGYO4R4iDrtBzZIzsPcbDq3_Eb3Y1bN7cdBL6-sDU2GaJ6DbM6Xts8NykGHYHf-O2oeLpniEuV9i1AFKB68bFkOkjMU6cPJmMZ0vHxXIOZv7LNUa0yEXv-KdxxnsJnnGx4k1zzQmoWfU6y-HP-eMn05CBsPNiCSosPxA0TlxJl3NUwpm1xqSVDfI1tG0AnK_tzbM4VC5tmQM92fUuj2e53ks4CII6LpFIFsnwOGuvBxEaHZ2T7n-Sdh-nX_zVFN3nUNfhwEhqulpPnWnYaajCiHy4xVBtUEJpZFspf58mBfEICeqeehmlApYWU9Jwm4156aByhHnD1WOv0EI5Dx3Nt_y2PKF7afkEyXhSAQXwWQGf3UXq0i_mpg7nizFQrzBW383GT5dsKEsNW6v3HBlo-_bbZooZiTnKwwg93RrGiFQnW02XMJ6buxCkfvgw-vmtNNpaE2mzIZSLYuK9YIfsq38Sr71rCFMBt6g8AzGsFf4XZvduWLru0sYhAgOjpel2aJRVgRcSqFHxueuth_8bf04IqHt5QIIyE5-G9Hht7mqmVwePgg-rcaG403R9JMwOPOTlKuQ_MuNBdwoZ5JoDBmb6gdJZcMTbPni58mzW7Es5FFCLnC3amzqPStHAwGEvRmP4-DOsOfP2idt0TsJ-C7uH1-PzyIQGlv6BUHBjlGBOTjbbFmgMDbfn7QEndTHRHSPsf3joXrt4_5Fpy5j5VCbDJ15buK3zy8iQiK0DupJUhjNwwpSvsO8ZqCQIDPiO1Y2eE0tGSaIiLShmN-0Jsr_2T0sX28IPjZlFWdLErVUtjtTxRnlGkl7sSKvVAeTjbs3-NC3KAkmoL89sW1cY_Y-3XJTn1WEhkKQ6y0EE0nmBRT8lDFlzWzeMZlSwT9Vhv4CwdrmnjJTMX_O4OFnpVtGa4nXC6h8Ot4BhoSoluapT5wOqeYyzPdsiwrLDbtRc-j_Wqbtywx8JLDJND4L_o8x71kPxedwAkXiQ8_RM5WhqdDD3w3x_AewiWsRTtoQSDBd6PjrRJ6CEBTZ10rGjV5CG_jKweHuAalnSHmb8LtyNnxFwFM24xcjTYdKQVZY8Qqoi7bAK_Oilr9TZMcZwVJoucqs2FrR8zhb-7XyIXPVFfLLhlodSr3fO1Ny_se6UjQiaz_detp6_jAmax5QmhH6dgaunSPew1Iw7DCtpZqDMQkHMHu5Vt9AgURb9Z6DniLRrvGPUbUNS4H3zwqmEXkRTzPSoFWZJgd1EDogEAex5CPp4TXDOwOVx1Z2EM34HBWtEvlPiPpk20qXotuKo1HdGiv315ncZ6JArwo8Ub7G8SGxvOkWNetgVmC0]--></g></svg>